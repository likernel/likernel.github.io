<!DOCTYPE html>
<html>
<head>
    

    

    
<!-- Baidu Tongji -->
<script>var _hmt = _hmt || []</script>
<script async src="//hm.baidu.com/hm.js?0cf5c472fa86e2055da7103f5ff06b27"></script>
<!-- End Baidu Tongji -->




    <meta charset="utf-8">
    
    
    
    <title>Python练习册--头像右上角添加数字 | likernel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="python">
    <meta name="description" content="在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。 题目地址：点这里。">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python练习册--头像右上角添加数字">
<meta property="og:url" content="http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/index.html">
<meta property="og:site_name" content="likernel">
<meta property="og:description" content="在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。 题目地址：点这里。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://camo.githubusercontent.com/d518d3929e4054ce2f9183b23e52908da7e5632d/687474703a2f2f692e696d6775722e636f6d2f736732646b75592e706e673f31">
<meta property="og:image" content="http://likernel.github.io/source/assets/images/2017/08/test.png">
<meta property="og:image" content="http://likernel.github.io/source/assets/images/2017/08/res.png">
<meta property="og:updated_time" content="2018-02-11T15:37:20.570Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python练习册--头像右上角添加数字">
<meta name="twitter:description" content="在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。 题目地址：点这里。">
<meta name="twitter:image" content="https://camo.githubusercontent.com/d518d3929e4054ce2f9183b23e52908da7e5632d/687474703a2f2f692e696d6775722e636f6d2f736732646b75592e706e673f31">
    
        <link rel="alternate" type="application/atom+xml" title="likernel" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/head.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">likernel</h5>
          <a href="mailto:daqingv5@foxmail.com" title="daqingv5@foxmail.com" class="mail">daqingv5@foxmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/daqingv5" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.twitter.com/likernel" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Python练习册--头像右上角添加数字</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Python练习册--头像右上角添加数字</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-08-07T03:02:19.000Z" itemprop="datePublished" class="page-time">
  2017-08-07
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#题目描述"><span class="post-toc-number">1.</span> <span class="post-toc-text">题目描述</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PIL"><span class="post-toc-number">2.</span> <span class="post-toc-text">PIL</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ImageDraw"><span class="post-toc-number">3.</span> <span class="post-toc-text">ImageDraw</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Example-Draw-a-gray-cross-over-an-image"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">Example:Draw a gray cross over an image</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#绘制"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">绘制</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实现："><span class="post-toc-number">4.</span> <span class="post-toc-text">实现：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#效果"><span class="post-toc-number">5.</span> <span class="post-toc-text">效果</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Python练习册-头像右上角添加数字"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Python练习册--头像右上角添加数字</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-08-07 11:02:19" datetime="2017-08-07T03:02:19.000Z"  itemprop="datePublished">2017-08-07</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。</p>
<p>题目地址：<a href="https://github.com/Yixiaohan/show-me-the-code" target="_blank" rel="noopener">点这里</a>。</p>
<a id="more"></a>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p><strong>第 0000 题：</strong>将你的QQ头像（或者微博头像）右上角加上红色的数字，类似于微信未读信息数量那种提示效果。类似于图中效果：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://camo.githubusercontent.com/d518d3929e4054ce2f9183b23e52908da7e5632d/687474703a2f2f692e696d6775722e636f6d2f736732646b75592e706e673f31" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<h2 id="PIL"><a href="#PIL" class="headerlink" title="PIL"></a>PIL</h2><p>PIL：Python Imaging Library，Python平台上的图像处理库。PIL功能强大，而且API简单易用。但是PIL仅支持到Python 2.7，有人在PIL的基础上创建了兼容的版本，名字叫Pillow，支持最新Python3.x，又加入了许多新特性，因此，我们可以直接安装使用Pillow。</p>
<p>下面给出pillow的<a href="https://pillow.readthedocs.io/en/4.2.x/" target="_blank" rel="noopener">官方文档</a>。</p>
<h2 id="ImageDraw"><a href="#ImageDraw" class="headerlink" title="ImageDraw"></a>ImageDraw</h2><p>首先，研究一下官方文档：<br>The ImageDraw module provides simple 2D graphics for Image objects. You can use this module to create new images, annotate or retouch existing images, and to generate graphics on the fly for web use.</p>
<h3 id="Example-Draw-a-gray-cross-over-an-image"><a href="#Example-Draw-a-gray-cross-over-an-image" class="headerlink" title="Example:Draw a gray cross over an image"></a>Example:Draw a gray cross over an image</h3><pre><code>from PIL import Image, ImageDraw

im = Image.open(&quot;hopper.jpg&quot;)

draw = ImageDraw.Draw(im)
draw.line((0, 0) + im.size, fill=128)
draw.line((0, im.size[1], im.size[0], 0), fill=128)
del draw

# write to stdout
im.save(sys.stdout, &quot;PNG&quot;)
</code></pre><p>大致分为以下几个步骤：</p>
<p>1.打开图片<br>2.创建对象<br>3.绘制<br>4.输出</p>
<h3 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h3><p>这是最核心的部分，我们进行详细的讨论，题目给的要求是：右上角加上红色的数字。</p>
<p>这里有两个关键点：</p>
<p>1.右上角<br>2.红色</p>
<h2 id="实现："><a href="#实现：" class="headerlink" title="实现："></a>实现：</h2><pre><code>#  _*_ coding:utf-8 _*_
__author__ = &#39;daqing&#39;
__date__ = &#39;2017/8/7 19:30&#39;

from PIL import  Image,ImageDraw,ImageFont

def addNum(nub,filepath):
    img = Image.open(filepath)

    # 新建draw对象
    draw = ImageDraw.Draw(img)
    width,height = img.size
    fontSize = height/4    
    #字体
    myFont = ImageFont.truetype(&#39;arial.ttf&#39;,fontSize)
    #位置，数字，颜色，字体
    draw.text((width-fontSize,0),nub,(256,0,0),font=myFont)
    del draw

    img.save(&#39;res.png&#39;)

if __name__ == &#39;__main__&#39;:
    addNum(&#39;10&#39;,&#39;test.png&#39;)
</code></pre><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>头像：</p>
<p><img src="/source/assets/images/2017/08/test.png" width="230" alt="头像" align="center"></p>
<p>添加数字后：</p>
<p><img src="/source/assets/images/2017/08/res.png" width="230" alt="处理后的头像" align="center"></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-02-11T15:37:20.570Z" itemprop="dateUpdated">2018-02-11 23:37:20</time>
</span><br>


        
        转载请注明出处，原文链接：<a href="/2017/08/07/Python练习册-头像右上角添加数字/" target="_blank" rel="external">http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/</a>
        
    </div>
    
    <footer>
        <a href="http://likernel.github.io">
            <img src="/img/head.jpg" alt="likernel">
            likernel
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/&title=《Python练习册--头像右上角添加数字》 — likernel&pic=http://likernel.github.io/img/head.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/&title=《Python练习册--头像右上角添加数字》 — likernel&source=在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。
题目地址：点这里。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Python练习册--头像右上角添加数字》 — likernel&url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/&via=http://likernel.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2017/08/09/Python的函数参数传递/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Python的函数参数传递</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/08/07/Python作用域/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Python作用域</h4>
      </a>
    </div>
  
</nav>



    


<section class="comments" id="comments">
    <div id="disqus_thread"></div>
    <script>
    var disqus_shortname = 'likernel.disqus.com';
    lazyScripts.push('//' + disqus_shortname + '.disqus.com/embed.js')
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>













</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢你请我吃糖！
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/weipay.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/weipay.png" data-alipay="/img/alipay.png">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>likernel &copy; 2015 - 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/&title=《Python练习册--头像右上角添加数字》 — likernel&pic=http://likernel.github.io/img/head.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/&title=《Python练习册--头像右上角添加数字》 — likernel&source=在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。
题目地址：点这里。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Python练习册--头像右上角添加数字》 — likernel&url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/&via=http://likernel.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACsUlEQVR42u3aQY5iMQwFQO5/6Z71aAZ4z04QLdVfITpAyovEbfvxiJ+ff578U89eP/trsv7wg4eHh7fe+rOff/0DyRbz9XmA3oQeDw8P7xpvc6yvfj4O9OtgPX0fDw8P7wt4+5UbNh4eHt5v5L1e3x7rbdKMh4eH9z28dkPPUupNqp0E7mKtBQ8PD2+Suw5bWZ9/faW/h4eHh7fuqrdHdnt5tAd6vVs8PDy8C7z8wM0Zeflg87t5wRcPDw/vLG9WJsjLEG1xNglZ0ZDDw8PDu8ZrAW3Lqg1HHpo3VDw8PLxrvP3oVdL0mpWJ80/95x08PDy8y7zkn/9ZuTY56FeM1+NWeHh4eEd5SYEgfz8f0srbaQdKxnh4eHiXeXmDqr022nBsWnF4eHh493j5aFQxiVC2vuq2VrAHPDw8vHu8fLtt2j1LmtvRgbycgYeHh3ePt0mdN4XavISRF4jx8PDwbvBmQ1d1Ihuk18nlkbfforoFHh4e3oiXf91sCGBWgJiF6c18BB4eHt4hXpsKJ+XafDQqT7jbnfyVUuPh4eFd4NWzBuXQVR6OzTXwZnQADw8P7yivHWnKj/Wzg1b5JYSHh4f3GV579M+GBtrrob1Cov8Y8PDw8Ba8ZGl+QCdts1ng8sGFKCh4eHh4l3kHvq4MzesSw+ZywsPDwzvFS0q37fBTXnrYDyW8CTEeHh7eR3ibBtiMuikQP2Y3Eh4eHt4h3mzl7JIotrhI1vHw8PDO8n7KJ09qZ0d/exW9uTDw8PDwLvDaw3dT0j1V4GgvMzw8PLwbvLygMGuV5YMI+ZpirAEPDw/vGm9f3t0kzacKE3h4eHjfyWsHrfJEOf/+OqXGw8PD+zLeZiuzAnFSaMbDw8O7zZuVFWZr2qLGMJnGw8PDu8ZrP9a+njXAPvrg4eHhpc8fJRANAfS37ZYAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
