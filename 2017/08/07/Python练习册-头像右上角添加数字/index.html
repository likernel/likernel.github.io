<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Python练习册--头像右上角添加数字 | likernel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。 题目地址：点这里。">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python练习册--头像右上角添加数字">
<meta property="og:url" content="http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/index.html">
<meta property="og:site_name" content="likernel">
<meta property="og:description" content="在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。 题目地址：点这里。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://camo.githubusercontent.com/d518d3929e4054ce2f9183b23e52908da7e5632d/687474703a2f2f692e696d6775722e636f6d2f736732646b75592e706e673f31">
<meta property="og:image" content="http://likernel.github.io/source/assets/images/2017/08/test.png">
<meta property="og:image" content="http://likernel.github.io/source/assets/images/2017/08/res.png">
<meta property="og:updated_time" content="2018-02-11T15:37:20.570Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python练习册--头像右上角添加数字">
<meta name="twitter:description" content="在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。 题目地址：点这里。">
<meta name="twitter:image" content="https://camo.githubusercontent.com/d518d3929e4054ce2f9183b23e52908da7e5632d/687474703a2f2f692e696d6775722e636f6d2f736732646b75592e706e673f31">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;likernel">
  
    <link rel="alternate" href="/atom.xml" title="likernel" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">likernel</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">文章归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://likernel.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Python练习册-头像右上角添加数字" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/07/Python练习册-头像右上角添加数字/" class="article-date">
  <time datetime="2017-08-07T03:02:19.000Z" itemprop="datePublished">2017-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Python练习册--头像右上角添加数字
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在知乎上看到的推荐，感觉还有点意思，遂记录之，这是开篇。</p>
<p>题目地址：<a href="https://github.com/Yixiaohan/show-me-the-code" target="_blank" rel="noopener">点这里</a>。</p>
<a id="more"></a>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p><strong>第 0000 题：</strong>将你的QQ头像（或者微博头像）右上角加上红色的数字，类似于微信未读信息数量那种提示效果。类似于图中效果：</p>
<p><img src="https://camo.githubusercontent.com/d518d3929e4054ce2f9183b23e52908da7e5632d/687474703a2f2f692e696d6775722e636f6d2f736732646b75592e706e673f31" alt=""></p>
<h2 id="PIL"><a href="#PIL" class="headerlink" title="PIL"></a>PIL</h2><p>PIL：Python Imaging Library，Python平台上的图像处理库。PIL功能强大，而且API简单易用。但是PIL仅支持到Python 2.7，有人在PIL的基础上创建了兼容的版本，名字叫Pillow，支持最新Python3.x，又加入了许多新特性，因此，我们可以直接安装使用Pillow。</p>
<p>下面给出pillow的<a href="https://pillow.readthedocs.io/en/4.2.x/" target="_blank" rel="noopener">官方文档</a>。</p>
<h2 id="ImageDraw"><a href="#ImageDraw" class="headerlink" title="ImageDraw"></a>ImageDraw</h2><p>首先，研究一下官方文档：<br>The ImageDraw module provides simple 2D graphics for Image objects. You can use this module to create new images, annotate or retouch existing images, and to generate graphics on the fly for web use.</p>
<h3 id="Example-Draw-a-gray-cross-over-an-image"><a href="#Example-Draw-a-gray-cross-over-an-image" class="headerlink" title="Example:Draw a gray cross over an image"></a>Example:Draw a gray cross over an image</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from PIL import Image, ImageDraw</span><br><span class="line"></span><br><span class="line">im = Image.open(&quot;hopper.jpg&quot;)</span><br><span class="line"></span><br><span class="line">draw = ImageDraw.Draw(im)</span><br><span class="line">draw.line((0, 0) + im.size, fill=128)</span><br><span class="line">draw.line((0, im.size[1], im.size[0], 0), fill=128)</span><br><span class="line">del draw</span><br><span class="line"></span><br><span class="line"># write to stdout</span><br><span class="line">im.save(sys.stdout, &quot;PNG&quot;)</span><br></pre></td></tr></table></figure>
<p>大致分为以下几个步骤：</p>
<p>1.打开图片<br>2.创建对象<br>3.绘制<br>4.输出</p>
<h3 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h3><p>这是最核心的部分，我们进行详细的讨论，题目给的要求是：右上角加上红色的数字。</p>
<p>这里有两个关键点：</p>
<p>1.右上角<br>2.红色</p>
<h2 id="实现："><a href="#实现：" class="headerlink" title="实现："></a>实现：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#  _*_ coding:utf-8 _*_</span><br><span class="line">__author__ = &apos;daqing&apos;</span><br><span class="line">__date__ = &apos;2017/8/7 19:30&apos;</span><br><span class="line"></span><br><span class="line">from PIL import  Image,ImageDraw,ImageFont</span><br><span class="line"></span><br><span class="line">def addNum(nub,filepath):</span><br><span class="line">    img = Image.open(filepath)</span><br><span class="line"></span><br><span class="line">    # 新建draw对象</span><br><span class="line">    draw = ImageDraw.Draw(img)</span><br><span class="line">    width,height = img.size</span><br><span class="line">    fontSize = height/4    </span><br><span class="line">    #字体</span><br><span class="line">    myFont = ImageFont.truetype(&apos;arial.ttf&apos;,fontSize)</span><br><span class="line">    #位置，数字，颜色，字体</span><br><span class="line">    draw.text((width-fontSize,0),nub,(256,0,0),font=myFont)</span><br><span class="line">    del draw</span><br><span class="line"></span><br><span class="line">    img.save(&apos;res.png&apos;)</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    addNum(&apos;10&apos;,&apos;test.png&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>头像：</p>
<p><img src="/source/assets/images/2017/08/test.png" width="230" alt="头像" align="center"></p>
<p>添加数字后：</p>
<p><img src="/source/assets/images/2017/08/res.png" width="230" alt="处理后的头像" align="center"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://likernel.github.io/2017/08/07/Python练习册-头像右上角添加数字/" data-id="cjdiyi1ud0018kgulxz1gsh0x" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/08/09/Python的函数参数传递/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Python的函数参数传递
        
      </div>
    </a>
  
  
    <a href="/2017/08/07/Python作用域/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Python作用域</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/"> - python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法-排序/"> - 算法 - 排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BST/">BST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PyQt5/">PyQt5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web开发/">web开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并查集/">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序/">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数组/">数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/链表/">链表</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/python/" style="font-size: 13.33px;"> - python</a> <a href="/tags/算法-排序/" style="font-size: 10px;"> - 算法 - 排序</a> <a href="/tags/BST/" style="font-size: 10px;">BST</a> <a href="/tags/PyQt5/" style="font-size: 11.67px;">PyQt5</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/docker/" style="font-size: 11.67px;">docker</a> <a href="/tags/leetcode/" style="font-size: 16.67px;">leetcode</a> <a href="/tags/python/" style="font-size: 18.33px;">python</a> <a href="/tags/web开发/" style="font-size: 10px;">web开发</a> <a href="/tags/并查集/" style="font-size: 10px;">并查集</a> <a href="/tags/排序/" style="font-size: 15px;">排序</a> <a href="/tags/数据结构/" style="font-size: 11.67px;">数据结构</a> <a href="/tags/数组/" style="font-size: 10px;">数组</a> <a href="/tags/机器学习/" style="font-size: 13.33px;">机器学习</a> <a href="/tags/深度学习/" style="font-size: 11.67px;">深度学习</a> <a href="/tags/算法/" style="font-size: 20px;">算法</a> <a href="/tags/链表/" style="font-size: 10px;">链表</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/31/Ubuntu下安装Docker/">Ubuntu下安装Docker</a>
          </li>
        
          <li>
            <a href="/2018/01/31/Docker基础/">Docker基础</a>
          </li>
        
          <li>
            <a href="/2018/01/25/PyQt5之信号与槽/">PyQt5之信号与槽</a>
          </li>
        
          <li>
            <a href="/2018/01/23/PyQt5-Pycharm环境搭建/">PyQt5+Pycharm环境搭建</a>
          </li>
        
          <li>
            <a href="/2017/12/28/scikit-neuralnetwork安装/">scikit-neuralnetwork安装</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 likernel<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">文章归档</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>